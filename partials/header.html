<nav class="nav-wrap transparent" role="navigation" aria-label="Primary">
  <div class="nav">
    <a class="brand" href="/" aria-label="DeskXP Home">
      <img src="/assets/header-logo.png" alt="DeskXP" />
    </a>

    <a href="#"
       id="cdMenuTrigger"
       class="cd-primary-nav-trigger"
       role="button"
       aria-label="Toggle menu"
       aria-controls="navCurtain"
       aria-expanded="false">
      <span class="cd-menu-text">Menu</span>
      <span class="cd-menu-icon" aria-hidden="true"><i></i></span>
    </a>

    <div class="menu" id="menu">
      <a href="/">Home</a>
      <a href="/services/">Services</a>
      <a href="/#success">Success Stories</a>
      <a href="/about/">About</a>
      <a class="cta" href="https://calendly.com/deskxp/30min">Book a Call</a>
    </div>
  </div>

  <div id="navCurtain" class="curtain" hidden>
    <div class="curtain-inner">
      <ul class="curtain-menu">
        <li><a href="/">Home</a></li>
        <li><a href="/services/">Services</a></li>
        <li><a href="/#success">Success Stories</a></li>
        <li><a href="/about/">About</a></li>
        <li><a href="https://calendly.com/deskxp/30min">Book a Call</a></li>
      </ul>
    </div>
  </div>
</nav>

<style>
:root {
  --nav-h: 92px;
  --logo-h: 120px;
  --pad-x: 16px;
}

/* ------------------- Base Layout ------------------- */
.nav-wrap {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  z-index: 2147483647;
  background: transparent; /* start transparent over hero */
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  border-bottom: 1px solid transparent;
  transition: background 0.35s ease, box-shadow 0.35s ease, border-color 0.35s ease;
}

.nav-wrap.solid {
  background: rgba(46, 66, 78, 0.96);
  border-bottom: 1px solid rgba(255, 255, 255, 0.08);
  box-shadow: 0 4px 14px rgba(0, 0, 0, 0.25);
}

.nav {
  display: flex;
  align-items: center;
  gap: 14px;
  height: var(--nav-h);
  padding: 0 var(--pad-x);
  max-width: 1100px;
  margin: 0 auto;
}

/* ------------------- Logo ------------------- */
nav.nav-wrap .brand img {
  display: block;
  height: var(--logo-h);
  width: auto;
  flex: 0 0 auto;
}

/* ------------------- Menu Links ------------------- */
.menu {
  display: flex;
  gap: 18px;
  margin-left: auto;
}

.menu a {
  color: #fff;
  text-decoration: none;
  font-weight: 500;
  letter-spacing: .01em;
  transition: opacity .2s ease;
  line-height: 1;
  padding: 0;
}
.menu a:hover { opacity: .75; }

.menu .cta {
  background: #007236;
  padding: 8px 14px;
  border-radius: 8px;
  color: #fff !important;
  font-weight: 600;
}

/* ------------------- Hamburger ------------------- */
.cd-primary-nav-trigger {
  display: flex;
  align-items: center;
  gap: 10px;
  color: #fff;
  text-decoration: none;
  padding: 6px 12px;
  background: none;
  border: none;
  box-shadow: none;
  cursor: pointer;
  position: relative;
  z-index: 10110;
}
.cd-menu-text { font-size: 1rem; line-height: 1; }

.cd-menu-icon {
  position: relative;
  width: 22px;
  height: 18px;
  display: inline-block;
}
.cd-menu-icon::before,
.cd-menu-icon::after,
.cd-menu-icon i {
  content: "";
  position: absolute;
  left: 0; right: 0;
  height: 2px;
  background: currentColor;
  border-radius: 2px;
  transition: transform .25s ease, opacity .2s ease;
}
.cd-menu-icon::before { top: 0; }
.cd-menu-icon::after  { bottom: 0; }
.cd-menu-icon i       { top: 50%; transform: translateY(-50%); }
.cd-primary-nav-trigger.is-open .cd-menu-icon::before {
  top: 50%; transform: translateY(-50%) rotate(45deg);
}
.cd-primary-nav-trigger.is-open .cd-menu-icon::after {
  bottom: 50%; transform: translateY(50%) rotate(-45deg);
}
.cd-primary-nav-trigger.is-open .cd-menu-icon i { opacity: 0; }

/* ------------------- Curtain Menu ------------------- */
.curtain {
  position: absolute;
  left: 0; right: 0; top: 100%;
  background: #2E424E;
  border-bottom: 1px solid rgba(255,255,255,.14);
  overflow: hidden;
  transform: translateY(-16px);
  opacity: 0;
  transition: all .32s cubic-bezier(.2,.7,.2,1);
  z-index: 5;
  pointer-events: none;
}
.curtain.open {
  transform: translateY(0);
  opacity: 1;
  pointer-events: auto;
  display: block !important;
  visibility: visible !important;
}

.curtain-menu {
  list-style: none;
  margin: 0;
  padding: 20px;
  display: flex;
  flex-direction: column;
  gap: 18px;
}
.curtain-menu a {
  display: block;
  padding: 12px 8px;
  color: #ECF3FF;
  text-decoration: none;
  border-radius: 8px;
  font-size: 1.1rem;
}
.curtain-menu a:hover { background: rgba(255,255,255,.08); }

  /* ------------------- Responsive ------------------- */
@media (min-width:1025px){
  :root{ --logo-h: 120px; --nav-h: 108px; }
}
@media (min-width:601px) and (max-width:1024px){
  :root{ --logo-h: 100px; --nav-h: 96px; }
}
@media (max-width:600px){
  :root{ --logo-h: 84px; --nav-h: 96px; }
  nav.nav-wrap .brand img{ margin-top: 4px; }
}


/* ------------------- Hero Overlay Illusion (flush) ------------------- */

/* 1) the element right after the mount (your .hero) must have no top gap */
#header-mount + * {
  margin-top: 0 !important;
  padding-top: 0 !important;
  border-top: 0 !important;
}

/* 2) pull the hero up UNDER the fixed header so the video is the header bg */
.hero {
  margin-top: 0 !important;
  padding-top: 0 !important;
  border-radius: 0 !important;
  position: relative;
  top: calc(var(--nav-h) * -1);  /* <-- key: remove the visual gap */
  z-index: 0;
}

/* 3) when header becomes solid, we release the hero back to normal */
body.scrolled .hero { top: 0; }

/* 4) ensure video actually fills and has no rounding */
.hero video,
.hero .hero__video {
  display: block;
  width: 100%;
  height: 100%;
  object-fit: cover;
  border-radius: 0 !important;
}

/* 5) baseline page bg so no light strip shows through */
html, body {
  margin: 0;
  padding: 0;
  background: var(--site-bg, #f9fafb); /* or your original gray */
}
</style>

<script>
/* Keep body.scrolled in sync with header's .solid (your main.js adds .solid).
   This avoids duplicate scroll logic and guarantees the hero offset resets. */
(function(){
  const header = document.querySelector('nav.nav-wrap');
  if (!header) return;

  const apply = () => {
    if (header.classList.contains('solid')) {
      document.body.classList.add('scrolled');
    } else {
      document.body.classList.remove('scrolled');
    }
  };

  // Initial state
  apply();

  // Watch for class changes driven by main.js (IntersectionObserver)
  const mo = new MutationObserver(apply);
  mo.observe(header, { attributes: true, attributeFilter: ['class'] });

  // Fallback in case something else toggles on scroll
  window.addEventListener('scroll', apply, { passive: true });
})();
</script>
