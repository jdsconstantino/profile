<nav class="nav-wrap" role="navigation" aria-label="Primary">
  <div class="nav">
    <a class="brand" href="/" aria-label="DeskXP Home">
      <img src="/assets/logo.png" alt="DeskXP" width="120" height="32" />
    </a>

    <!-- Hamburger -->
    <button class="hamburger" id="menuBtn"
            aria-label="Open menu" aria-controls="menuCurtain" aria-expanded="false">
      <span></span><span></span><span></span>
    </button>

    <!-- Desktop menu (inline) -->
    <div class="menu-desktop" aria-hidden="false">
      <a href="/">Home</a>
      <a href="/services/">Services</a>
      <a href="/#success">Success Stories</a>
      <a href="/about/">About</a>
      <a class="cta" href="/personalized-request">Tell Us What You Need!</a>
      <a class="cta-outline" href="https://calendly.com/deskxp/30min">Book a Call</a>
    </div>
  </div>

  <!-- Mobile curtain -->
  <div id="menuCurtain" class="curtain" hidden>
    <div class="curtain-inner">
      <ul class="curtain-menu">
        <li><a href="/">Home</a></li>
        <li><a href="/services/">Services</a></li>
        <li><a href="/#success">Success Stories</a></li>
        <li><a href="/about/">About</a></li>
        <li><a class="cta" href="/personalized-request">Tell Us What You Need!</a></li>
        <li><a class="cta-outline" href="https://calendly.com/deskxp/30min">Book a Call</a></li>
      </ul>
    </div>
  </div>
</nav>

<style>
/* ===== Scoped header styles ===== */
:root{
  --dxp-dark:#2E424E;
  --dxp-ink:#ECF3FF;
  --dxp-muted:#CFE2F2;
  --dxp-border:rgba(255,255,255,.14);
  --dxp-brand:#007236;
}
.nav-wrap{position:sticky;top:0;z-index:10000;background:linear-gradient(180deg,rgba(22,28,33,.55),rgba(22,28,33,.25));backdrop-filter:blur(6px);border-bottom:1px solid var(--dxp-border)}
.nav{max-width:1100px;margin:0 auto;display:flex;align-items:center;justify-content:space-between;gap:16px;padding:10px 16px}
.brand img{display:block}

/* Desktop inline menu */
.menu-desktop{display:none;gap:18px;align-items:center}
.menu-desktop a{color:var(--dxp-ink);text-decoration:none;padding:8px 10px;border-radius:10px}
.menu-desktop a:hover{background:rgba(255,255,255,.08)}
.menu-desktop .cta{background:var(--dxp-brand);color:#fff;border-radius:999px;padding:9px 14px}
.menu-desktop .cta-outline{border:1px solid var(--dxp-border);border-radius:999px;padding:9px 14px;color:var(--dxp-ink)}

/* Hamburger */
.hamburger{--w:22px;--bar:2px;width:40px;height:40px;border-radius:10px;border:1px solid var(--dxp-border);background:transparent;display:grid;place-items:center;cursor:pointer}
.hamburger span{display:block;width:var(--w);height:var(--bar);background:var(--dxp-ink);border-radius:2px;transition:transform .25s ease,opacity .2s ease,translate .25s ease}
.hamburger span:nth-child(1){transform-origin:left center}
.hamburger span:nth-child(3){transform-origin:left center}
.hamburger.is-open span:nth-child(1){transform:rotate(45deg)}
.hamburger.is-open span:nth-child(2){opacity:0;translate:-6px 0}
.hamburger.is-open span:nth-child(3){transform:rotate(-45deg)}

/* Curtain (mobile) */
.curtain{position:fixed;inset:0 0 auto 0;height:0;overflow:hidden;background:var(--dxp-dark);border-bottom:1px solid var(--dxp-border);box-shadow:0 20px 60px rgba(0,0,0,.5);transform:translateY(-100%);transition:transform .35s cubic-bezier(.2,.7,.2,1), height 0s linear .35s}
.curtain.open{height:100vh;transform:translateY(0);transition:transform .35s cubic-bezier(.2,.7,.2,1)}
.curtain-inner{max-width:1100px;margin:0 auto;padding:18px 16px}
.curtain-menu{list-style:none;margin:18px 0 0;padding:0;display:flex;flex-direction:column;gap:14px}
.curtain-menu a{display:block;padding:14px 10px;color:var(--dxp-ink);text-decoration:none;font-size:1.15rem;border-radius:12px}
.curtain-menu a:hover{background:rgba(255,255,255,.08)}
.curtain-menu .cta{background:var(--dxp-brand);color:#fff;border-radius:999px;text-align:center}
.curtain-menu .cta-outline{border:1px solid var(--dxp-border);border-radius:999px;text-align:center}

/* Breakpoints */
@media (min-width: 900px){
  .hamburger{display:none}
  .menu-desktop{display:flex}
  .curtain{display:none}
}
</style>

<script>
(() => {
  const btn = document.getElementById('menuBtn');
  const curtain = document.getElementById('menuCurtain');
  const links = curtain.querySelectorAll('a');

  const open = () => {
    btn.classList.add('is-open');
    btn.setAttribute('aria-expanded','true');
    curtain.hidden = false;
    // Force reflow so transition runs even when hidden becomes false
    void curtain.offsetHeight;
    curtain.classList.add('open');
    document.documentElement.style.overflow = 'hidden'; // lock scroll
  };

  const close = () => {
    btn.classList.remove('is-open');
    btn.setAttribute('aria-expanded','false');
    curtain.classList.remove('open');
    document.documentElement.style.overflow = '';
    // wait for slide-up before hiding for a11y
    setTimeout(() => { curtain.hidden = true; }, 300);
  };

  btn.addEventListener('click', () => {
    const isOpen = btn.classList.contains('is-open');
    isOpen ? close() : open();
  });

  // Close on ESC
  window.addEventListener('keydown', e => {
    if (e.key === 'Escape' && btn.classList.contains('is-open')) close();
  });

  // Close after navigating
  links.forEach(a => a.addEventListener('click', close));
})();
</script>
